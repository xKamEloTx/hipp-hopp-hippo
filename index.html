<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>HIPP HOPP HIPPO üé≤</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      text-align: center;
      background-color: #f0f8ff;
      padding: 20px;
    }
    h1 {
      color: #333;
    }
    .dice-container {
      display: flex;
      justify-content: center;
      gap: 40px;
      margin-top: 30px;
    }
    .die {
      width: 180px;
      height: 180px;
      border-radius: 20px;
      box-shadow: 0 0 15px rgba(0,0,0,0.15);
      overflow: hidden;
      cursor: pointer;
      position: relative;
      perspective: 600px;
      user-select: none;
      background-color: #444;
      color: white;
      font-weight: 700;
      font-size: 72px;
    }
    /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ "–ø–µ—Ä–µ–ª–∏—Å—Ç—ã–≤–∞–Ω–∏—è" */
    .face-container {
      height: 180px;
      width: 100%;
      overflow: hidden;
      position: relative;
    }
    /* –í—Å–µ "–ª–∏—Å—Ç—ã" –ª–∏—Ü */
    .faces {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      transition: transform 0.6s ease-in-out;
    }
    .face {
      height: 180px;
      display: flex;
      justify-content: center;
      align-items: center;
      user-select: none;
      border-radius: 20px;
    }
    /* –ß–∏—Å–ª–æ–≤–æ–π –∫—É–±–∏–∫ */
    .number-die .face {
      background-color: #444;
      color: white;
      font-size: 96px;
      font-weight: 800;
      box-shadow: inset 0 0 15px rgba(0,0,0,0.3);
    }
    /* –¶–≤–µ—Ç–Ω–æ–π –∫—É–±–∏–∫ */
    .color-die .face {
      font-size: 96px;
      font-weight: 900;
      box-shadow: inset 0 0 15px rgba(0,0,0,0.3);
    }
    /* –¶–≤–µ—Ç–Ω–æ–π –∫—É–±–∏–∫ –æ–±—ã—á–Ω—ã–π —Ü–≤–µ—Ç–Ω–æ–π –∫–≤–∞–¥—Ä–∞—Ç */
    .color-square {
      width: 100%;
      height: 100%;
      border-radius: 20px;
      box-shadow: inset 0 0 10px rgba(0,0,0,0.4);
    }

    button.btn {
      margin-top: 30px;
      padding: 14px 28px;
      font-size: 20px;
      border: none;
      background-color: #0077cc;
      color: white;
      border-radius: 12px;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    button.btn:hover:not(:disabled) {
      background-color: #005fa3;
    }
    button.btn:disabled {
      background-color: #999;
      cursor: default;
    }
    .result {
      margin-top: 30px;
      font-size: 20px;
      min-height: 40px;
      color: #222;
    }
  </style>
</head>
<body>
  <h1>üé≤ HIPP HOPP HIPPO üé≤</h1>
  <p>–ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É, —á—Ç–æ–±—ã –±—Ä–æ—Å–∏—Ç—å –¥–≤–∞ –∫—É–±–∏–∫–∞ —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π!</p>
  <button class="btn" id="rollBtn">–ë—Ä–æ—Å–∏—Ç—å –∫—É–±–∏–∫–∏</button>

  <div class="dice-container" style="margin-top:40px;">
    <div class="die number-die" aria-label="–ß–∏—Å–ª–æ–≤–æ–π –∫—É–±–∏–∫" role="img">
      <div class="face-container">
        <div class="faces" id="numberFaces">
          <!-- –õ–∏—Ü–∞ —á–∏—Å–ª–æ–≤–æ–≥–æ –∫—É–±–∏–∫–∞: 2, 3, 4 (–ø–æ–≤—Ç–æ—Ä—è–µ–º —á—Ç–æ–±—ã –∞–Ω–∏–º–∞—Ü–∏—è –ª–∏—Å—Ç–∞–ª–∞) -->
          <div class="face">2</div>
          <div class="face">3</div>
          <div class="face">4</div>
          <div class="face">2</div>
          <div class="face">3</div>
          <div class="face">4</div>
        </div>
      </div>
    </div>
    <div class="die color-die" aria-label="–¶–≤–µ—Ç–Ω–æ–π –∫—É–±–∏–∫" role="img">
      <div class="face-container">
        <div class="faces" id="colorFaces">
          <!-- –õ–∏—Ü–∞ —Ü–≤–µ—Ç–Ω–æ–≥–æ –∫—É–±–∏–∫–∞: —Ü–≤–µ—Ç–∞ + –±–µ–≥–µ–º–æ—Ç -->
          <div class="face"><div class="color-square" style="background-color: gold;"></div></div>
          <div class="face"><div class="color-square" style="background-color: dodgerblue;"></div></div>
          <div class="face"><div class="color-square" style="background-color: purple;"></div></div>
          <div class="face"><div class="color-square" style="background-color: green;"></div></div>
          <div class="face"><div class="color-square" style="background-color: crimson;"></div></div>
          <div class="face" style="font-size: 96px; color: #333; background: white; display: flex; justify-content: center; align-items: center; border-radius: 20px;">ü¶õ</div>
        </div>
      </div>
    </div>
  </div>

  <div class="result" id="resultText"></div>

  <!-- –ó–≤—É–∫ –±—Ä–æ—Å–∫–∞ -->
  <audio id="rollSound" src="https://freesound.org/data/previews/66/66717_931655-lq.mp3"></audio>

  <script>
    const numberDieValues = [2, 3, 4]; // —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ª–∏—Ü–∞ –¥–ª—è –ª–∏—Å—Ç–∞–Ω–∏—è

    const colorDieValues = [
      { color: "gold", label: "–ñ—ë–ª—Ç—ã–π" },
      { color: "dodgerblue", label: "–°–∏–Ω–∏–π" },
      { color: "purple", label: "–§–∏–æ–ª–µ—Ç–æ–≤—ã–π" },
      { color: "green", label: "–ó–µ–ª—ë–Ω—ã–π" },
      { color: "crimson", label: "–ö—Ä–∞—Å–Ω—ã–π" },
      { color: "white", label: "–ë–µ–≥–µ–º–æ—Ç", isHippo: true }
    ];

    const numberFaces = document.getElementById('numberFaces');
    const colorFaces = document.getElementById('colorFaces');
    const resultText = document.getElementById('resultText');
    const rollBtn = document.getElementById('rollBtn');
    const rollSound = document.getElementById('rollSound');

    const faceHeight = 180; // —É–≤–µ–ª–∏—á–µ–Ω–∞ –≤—ã—Å–æ—Ç–∞

    function rollDice() {
      rollBtn.disabled = true;
      resultText.textContent = '';

      rollSound.currentTime = 0;
      rollSound.play();

      let frames = 30;
      let currentFrame = 0;

      const animationInterval = setInterval(() => {
        currentFrame++;

        const numIndex = Math.floor(Math.random() * 6);
        const colIndex = Math.floor(Math.random() * 6);

        numberFaces.style.transform = `translateY(-${numIndex * faceHeight}px)`;
        colorFaces.style.transform = `translateY(-${colIndex * faceHeight}px)`;

        if (currentFrame >= frames) {
          clearInterval(animationInterval);
          showResult();
        }
      }, 33);
    }

    function showResult() {
      const originalNumberDie = [2, 2, 2, 3, 3, 4];
      const finalNumber = originalNumberDie[Math.floor(Math.random() * originalNumberDie.length)];

      const numberFacesValues = [2,3,4,2,3,4];
      let numberIndex = numberFacesValues.indexOf(finalNumber);

      const finalColor = colorDieValues[Math.floor(Math.random() * colorDieValues.length)];
      const colorIndex = colorDieValues.indexOf(finalColor);

      numberFaces.style.transition = 'transform 0.6s ease-in-out';
      colorFaces.style.transition = 'transform 0.6s ease-in-out';

      numberFaces.style.transform = `translateY(-${numberIndex * faceHeight}px)`;
      colorFaces.style.transform = `translateY(-${colorIndex * faceHeight}px)`;

      setTimeout(() => {
        resultText.textContent = '';
        if (finalColor.isHippo) {
          resultText.innerHTML = "ü¶õ –í—ã–ø–∞–ª <b>–ë–µ–≥–µ–º–æ—Ç</b>! –°–ª—É—á–∞–π–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ!";
        } else {
          resultText.textContent = `–í—ã–ø–∞–ª —Ü–≤–µ—Ç –∏ —á–∏—Å–ª–æ: ${finalNumber}`;
        }
        rollBtn.disabled = false;
      }, 700);
    }

    rollBtn.addEventListener('click', rollDice);
  </script>
</body>
</html>
